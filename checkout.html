<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <!-- Custom CSS -->
    <style>
        /* Your custom CSS styles here */
        .TransactionContainer {
            background-color: lightblue;
            width: 50%;
            margin: auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
<div class="TransactionContainer">
    <h1 class="text-center mb-4">
        CONFIRM YOUR TRANSACTION
    </h1>
    <table class="table">
        <tr>
            <td><h2>Ticker</h2></td>
            <td><h2 id="ticker">Loading...</h2></td>
        </tr>
        <tr>
            <td><h2>Name</h2></td>
            <td><h2 id="name">Loading...</h2></td>
        </tr>
        <tr>
            <td><h2>Price</h2></td>
            <td><h2 id="price">Loading...</h2></td>
        </tr>
        <tr>
            <td><h2>Exchange</h2></td>
            <td><h2 id="exchange">Loading...</h2></td>
        </tr>
    </table>
    <form id="checkoutForm" action="/checkedout" method="post">
        <input type="hidden" name="ticker" value="${ticker}">
        <input type="hidden" name="name" value="${name}">
        <!-- Set the value of the 'price' input field to the JavaScript variable 'price' -->
        <input type="hidden" name="price" id="hiddenPrice">
        <input type="hidden" name="exchange" value="${exchange}">
        <button type="submit" name="submit">Proceed to buy</button>
    </form>
</div>

<script>
    // Parse URL parameters
    const urlParams = new URLSearchParams(window.location.search);

    // Get values from URL parameters
    const ticker = urlParams.get('ticker');
    const name = urlParams.get('name');
    const price = parseFloat(urlParams.get('price')); // Parse 'price' as a float
    const exchange = urlParams.get('exchange');

    // Update table elements with values
    document.getElementById('ticker').textContent = ticker;
    document.getElementById('name').textContent = name;
    document.getElementById('price').textContent = price; // Display 'price'
    document.getElementById('exchange').textContent = exchange;

    // Set the value of the hidden input field to the 'price' variable
    document.getElementById('hiddenPrice').value = price;
</script>

</body>
</html>
